" https://github.com/junegunn/vim-plug

if has('win64') || has('win32') || has('win16')
  call plug#begin('~/vimfiles/plugged')
else
  call plug#begin('~/.vim/plugged')
endif

Plug 'w0rp/ale'
Plug 'ctrlpvim/ctrlp.vim'
Plug 'editorconfig/editorconfig-vim'
Plug 'scrooloose/nerdcommenter'
Plug 'scrooloose/nerdtree', { 'on':  'NERDTreeToggle' }
Plug 'joshdick/onedark.vim'
Plug 'rust-lang/rust.vim'
Plug 'Galooshi/vim-import-js'
Plug 'itchyny/lightline.vim'
Plug 'terryma/vim-expand-region'
Plug 'tpope/vim-fugitive'
Plug 'airblade/vim-gitgutter'
Plug 'fatih/vim-go'
Plug 'RRethy/vim-illuminate'
Plug 'nathanaelkane/vim-indent-guides'
Plug 'plasticboy/vim-markdown'
Plug 'terryma/vim-multiple-cursors'
Plug 'sheerun/vim-polyglot'
Plug 'tpope/vim-sensible'
Plug 'tpope/vim-surround'
Plug 'racer-rust/vim-racer'

call plug#end()

" auto-reload files when modified externally
" https://unix.stackexchange.com/a/383044
set autoread
autocmd FocusGained,BufEnter,CursorHold,CursorHoldI * if mode() != 'c' | checktime | endif

" disable additional junk files
set noswapfile
set nobackup
set nowritebackup

let g:ale_fixers = {
\  'javascript': ['prettier', 'eslint'],
\  'rust': ['rustfmt']
\}
let g:ale_fix_on_save = 0

" onedark
syntax on
colorscheme onedark
let g:lightline = {
  \ 'colorscheme': 'onedark',
  \ }

let g:rustfmt_autosave = 1

if has('gui_running')
  if has('toolbar')
    set go-=T
  endif

  set columns=90
  set lines=50

  if has("mac")
    set guifont=Fira\ Code\ 14,Hasklig:h14,Hack:h14
  elseif has("unix")
    set guifont=Fira\ Code\ 11,Hasklig:h11,Hack:h11
  endif
endif

if (has("termguicolors"))
  set termguicolors
endif

" https://stackoverflow.com/a/37542976/488373
set nofoldenable

set nu
set relativenumber

" show trailing whitespace
" https://stackoverflow.com/a/1675752/488373
set list
set listchars=tab:\ \ ,extends:>,precedes:<,trail:Â·

" tab stuff
" https://stackoverflow.com/a/1878983/488373
set smarttab
set tabstop=4

" https://github.com/scrooloose/nerdtree
map <C-\> :NERDTreeToggle<CR>
